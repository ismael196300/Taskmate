<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
    (function(){
        emailjs.init({
            publicKey: "2vPqEDSX0mBOwri4S",
        });
    })();
    </script>
    <title>Taskmate</title>
    <link rel="stylesheet" href="mainstyle.css">
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
</head>
<body>
    <form action="#"method="post">
        <div class="profile-container" id="profile-container">
            <header class= "header">
                <div class="taskmateLogo">
                    <figure><img src="logo.png" alt="TASKMATE" width="40px" height="40px"></figure>
                    <span>Taskmate</span>
                    <button type="button" id="profile-check-student-acts">Check Passed Activities</button>
                </div>
            </header>
            <section class="userProfile card">
                <div class="profilePic">
                      <figure><img src="placeholder.webp" alt="PROFILE" width = "100px" height="100px" id="profileImage"></figure>
                      <label for="fileInput" class="custom-file-upload" id="custom-file-upload-image">Change Profile Picture</label>
                    <input type="file" id="fileInput" accept="image/*">
                </div>
            </section>
            <section class ="subjectMore_Infos card">
                <div class="subject">
                    <h3 class="heading">Section</h3>
                    
                    <div class="primary">
                        <h4 id="sections">Section</h4>
                       
                    </div>
                </div>
                <div class="more-info">
                    <h3 class="heading">Subjects</h3>
                    <ul>
                        <li id="subject-spec1">SPEC 2</li>
                        <li id="subject-spec2">SPEC 3 </li>
                    </ul>
                </div>
            </section>
            <section class="userAbout card">
                <div class="username">
                    <h1 class="name" id="name">Account Name</h1>
                    
                    <p id="position">Student</p>
                </div>
                <div class="moreinfo">
                    <h1>More infos</h1>
                    <div class="map">
                        <box-icon type='solid' name='school'></box-icon>
                        <span>Arellano University Elisa Esguerra Campus</span>
                    </div>
                    <div class="school">
                        <box-icon type='solid' name='map'></box-icon>
                        <span>Gen Luna. St Brgy Bayan-bayanan Malabon City</span>
                    </div>
                </div>
            </section>
            <section class="userTimeline card">
                <div class="tabs">
                    <ul>
                        <li class="timeline">
                            <box-icon type='solid' name='notepad'></box-icon>
                            <span>Timeline</span>
                        </li>
                        <li class="about active">
                            <box-icon type='solid' name='user-detail'></box-icon>
                            <span>About</span>
                        </li>
                    </ul>
                </div>
                <div class="contact_info">
                    <h1 class="heading">Contact Information</h1>
                    <ul>
                      <li class="email">
                        <h1 class="label">Email:</h1>
                        <span class = "info" id="email">wwww@gmail.com</span>
                      </li>

                    </ul>
                </div>
                <div class="basic_infos">
                    <h1 class="heading">Basic Information</h1>
                     <ul>
                        <li class="birthdate">
                            <h1 class="heading">Birthdate:</h1>
                            <span class="info" id="birthdate"> 00-00-0000</span>
                        </li>
                     </ul>
                </div>
            </section>
        </div><!--Folders------------------------------------------------------------------>
        <div class="note-container" id="note-container">
           <h1>Subjects</h1>
        
           <div class="container spec1">
              <div class="act-items" id="btn-subj">
                <img src="logo.png" alt="logo" width="70px" height="70px">
                <h3 id="subj-name">Title Here</h3>
                <p id="subj-teach"></p>
               
              </div>  
              <div class="act-items " id="btn-subj-2">
                <img src="logo.png" alt="logo" width="70px" height="70px">
                <h3 id="subj-name-2">Title Here</h3>
                <p id="subj-teach-2"> </p>
              
              </div>  
           </div>
          
         
         </div>
        </div>
        <div class="student-table-container" id="student-table-container">
            <div class="student-table-header">  
                <h1>Students</h1>
                <div class="header-search-bar">
                    <input type="search" name="search-students" id="search-students" placeholder="Search Here">
                    <box-icon name='search-alt-2'></box-icon>
                </div>
                <div class="dropdown-bar">
                    <label for="dropdown-bar" class="btn-table-check"><box-icon name='list-ul'></box-icon></label>
                    <input type="checkbox" id="dropdown-bar" title="Button">
                    <div class="dropdown-options">
                        <label class="btn-student-tbl"><box-icon name='table' ></box-icon>Student Table</label>
                        <label class="btn-check-activity" id="btn-check-activity"><box-icon name='check-double'></box-icon>Check Activities</label>
                       
                    </div>
                </div>
            </div>
            <div class="student-table-body">
                <table id="student-table">
                    <thead>
                        <tr>
                            <th>ID <span class="icon-arrow">&UpArrow;</span></th>
                            <th>Student's Username <label class="icon-arrow" for="sort-section">&UpArrow;</label></th>
                            <th class="section-sort-bar"  id="section-sort-bar">Section 
                                <label for="sort-section" class="btn-sort-activities">
                                <span class="icon-arrow">&UpArrow;</span>
                                <div class="sort-section-div" id="sort-section-div">
                                   
                                    <input type="checkbox" name="sort-section" id="sort-section" title="Sort">
                                </label>
                                    <div class="sort-section-options">
                                        <label class="ICT-11-1P" id="ICT-11-1P">ICT-11-1P</label>
                                        <label class="ICT-11-2P" id="ICT-11-2P">ICT-11-2P</label>
                                        <label class="ICT-12-1P" id="ICT-12-1P">ICT-12-1P</label>
                                        <label class="ICT-12-2P" id="ICT-12-2P">ICT-12-2P</label>
                                        <label class="ICT-11-1A" id="ICT-11-1A">ICT-11-1A</label>
                                        <label class="ICT-11-2A" id="ICT-11-2A">ICT-11-2A</label>
                                        <label class="ICT-12-1A" id="ICT-12-1A">ICT-12-1A</label>
                                        <label class="ICT-12-2A" id="ICT-12-2A">ICT-12-2A</label>
                                    </div>
                                    
                                </div>
                            </th>
                            <th>Email <span class="icon-arrow">&UpArrow;</span></th>
                            <th>Birthdate <span class="icon-arrow">&UpArrow;</span></th>
                            <th>Passed Activities <span class="icon-arrow">&UpArrow;</span></th>
                        </tr>
                    </thead>
                    <tbody id="student-tbody">
                    </tbody>
                </table>
            </div>
        </div>
        <!--List of Acts--------------------------------------------------------->
        <section id="list-of-act" class="list-of-act">
            <div class="list-heading">
                <button type="button" class="back-to-table">&LeftArrow;  Back</button>
                <h3 id="created-act" ></h3>
                <span id="subject-name"></span>
                <div class="sort-actvities-div" id="sort-actvities-div">
                    <label for="sort-actvities" class="btn-sort-activities"><box-icon name='list-minus' ></box-icon></label>
                    <input type="checkbox" name="sort-actvities" id="sort-actvities" title="Sort">
                    <div class="sort-options">
                        <div class="act-students">
                            <label class="recent-acts" id="recent-acts"><box-icon name='highlight'></box-icon>Recent Activities</label>
                            <label class="passed-acts" id="passed-acts"><box-icon type='solid' name='right-arrow-square'></box-icon>Pending Activities</label>
                            <label class="graded-acts" id="graded-acts"><box-icon name='badge-check'></box-icon>Completed Activities</label>
                        </div>
                        <div class="act-names-teachers">
                            <label class="all-acts">All Activities</label>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="list-of-act-container" id="list-of-act-container">
              <p class="nothing-list-box-para" id="nothing-list-box-para">No Activities.</p>
                
            </div>
           
        </section>
        <div class="for-teacher-container" id="for-teacher-container">
            <button  id="create-act" type="button" class="create-act">Create Activity</button>
            
            <div class="teach-container spec1">
                <div class="create-act-items" id="create-act-items">
                    <img src="logo.png" alt="logo"width="70px" height="70px">
                    <h3 id="subj-title"></h3>
                    <p id="subj-desc"></p>
                    
                </div>
                <div class="create-act-items" id="create-act-items">
                    <img src="logo.png" alt="logo"width="70px" height="70px">
                    <h3 id="subj-title-2"></h3>
                    <p id="subj-desc-2"></p>
                   
                </div>
                
            </div>
           
           
           
            <!--Fill out Create Act-->
            <div class="fill-container" id="fill-container">
                <div class="fill-act-container" id="fill-act-container">
                    
                        <h2>Create Activity</h2>
                  
                   
                    
                    <label for="fill-act-title">Title</label>
                    <input type="text" placeholder="Title" required maxlength="100" id="fill-act-title" class="fill-act-title box" name="fill-act-title" >
                    <p class="title-para" id="title-para">Please enter a Title.</p>
                    <label for="descrip">Description</label>
                    <textarea name="descrip" id="descrip" cols="50" rows="10" placeholder="Description" class="text-descrip box"></textarea>
                    <p>File</p>
                    <label for="create-act-file" class="custom-file-upload">Upload File</label>
                    <input type="file" name="create-act-file" id="create-act-file" class="create-act-file box" multiple >
                    <label for="act-section">Section</label>
                    <select name="act-section" id="act-section" class="act-section box">
                        <option value="none">Section</option>
                        <option value="ICT">ICT</option>
                        <option value="ICT">ICT</option>
                        <option value="ICT">ICT</option>
                        <option value="ICT">ICT</option>
                    </select>
                    <p class="selected-sections-para">Sections</p>
                    <p class="act-select-para" id="act-select-para">Please select a Section.</p>
                    <label for="score">Score</label>
                    <input type="number" min="1" step="1" id="score" name="score" class="box">
                    <p class="score-para" id="score-para" >Please enter a valid Score.</p>
                    <label for="deadlineDate">Deadline</label>
                    <input type="datetime-local" name="deadlineDate" id="deadlineDate" class="box" >
                    <p class="due-date-para" id="due-date-para">Please set a Date.</p>
                    <button  type= "button"class="btn-create-act" id="btn-create-act">Create</button>
                    <button type="button" class="btn-back" id="btn-back">Back</button>
                </div>
                <div class="upload-file-pic" id="upload-file-pic">
                    
                </div>
            </div>
        </div>

       
        <footer class="footer-container">
            <section class="footer-section-container">
             
                <div class="footer-home">
                    <h2>Menu</h2>
                    <ul>
                        <li>
                            <a href="#" title="profile" id="footer-profile">Profile</a>
                        </li>
                        <li>
                            <a href="#" title="Settings" id="footer-settings">Settings</a>
                        </li>
                        <li>
                            <a href="#" title="LOg-out" id="footer-logout">Log out</a>
                        </li>
                    </ul>
                </div>
                <div class="footer-location">
                    <h2>Location</h2>
                    <ul>
                        <li>
                            <p>Arellano University <br> Elisa Esguerra Campus</p>
                        </li>
                        <li>
                            <p>Gen Luna. St Brgy <br>Bayan-bayanan Malabon City</p>
                        </li>
                    </ul>
                </div>
            </section>
            <section class="copyright">Copyright&copy; Taskmate 2024</section>
        </footer>
       
      
<!-- Activities inside Folder-->

    
    <div class="about-us-container" id="about-us-container">
        <div class="heading">
            <h1>About Us</h1>
            <p>In today's educational landscape, time is a precious resource for students. 
              The investment of each hour spent on education-related activities not only contributes to effective time
               management but also yields positive outcomes in their academic tasks. However, a prevailing issue among
                students in ict strand is the lack of proper time management and organization when dealing with unfinished assignments.</p>
          </div>
          <div class="text-1">
                  <p> Recognizing this challenge, we developed an academic application called Taskmate to assist students in efficiently
                    managing their time and organizing their tasks. The Arellano University Elisa Esguerra Campus, like many educational
                     institutions, faces the problem of time management due to the introduction of additional concepts in the curriculum.
                      Students often express their confusion and overwhelming workload, unsure of where to begin amidst numerous tasks.
                       It is from these observations that we drew inspiration for our research and subsequently decided to create
                        the Taskmate application.</p>
          </div>
            <div class="about-us-names">
                <div class="button">
                  <p>Developers:</p>
                  <a href="https://www.facebook.com/callmeepogii " target="_blank" rel="noopener">Angelo Espejo ,</a>
                  <a href="https://www.facebook.com/geneandreibarrozo.750" target="_blank" rel="noopener">Gene Andrei Barrozo</a>
                </div>
                <div class="members-1">
                  <p>Leader:</p>
                  <a href="https://www.facebook.com/yuanking.maquiniananadala" target="_blank" rel="noopener">Yuan King Nadala</a>
                </div>
                <div class="members-2">
                  <p>Documented By:</p>
                  <a href="https://www.facebook.com/profile.php?id=100007230887223" target="_blank" rel="noopener">Jenefer Jumamoy,</a>
                  <a href="https://www.facebook.com/nicolekyut09" target="_blank" rel="noopener">Alliana Mabaga</a>
                </div>
                <div class="members-3">
                  <p>Helpers:</p>
                  <a href="https://www.facebook.com/nhedyskieee" target="_blank"  rel="noopener">Babon, Eristina Nhedy</a>
                  <a href="https://www.facebook.com/profile.php?id=100077528392502" target="_blank" rel="noopener">Domingo, Marielyn</a>
                  <a href="https://www.facebook.com/winrey.delosreyes.3" target="_blank" rel="noopener">Delos Reyes, Winrey</a>
                  <a href="https://www.facebook.com/gellianace.ggarcia" target="_blank" rel="noopener">Garcia, Gellian Ace</a>
                  <a href="https://www.facebook.com/neilnard.hachero.3" target="_blank" rel="noopener">Hachero, Neilnard</a>
                  <a href="https://www.facebook.com/profile.php?id=100090953139922" target="_blank" rel="noopener">Handog, Rainiel</a>
                  <a href="https://www.facebook.com/maeve.arden.1" target="_blank" rel="noopener">Mercurio, Arden</a>
                  <a href="https://www.facebook.com/profile.php?id=100082679632430" target="_blank" rel="noopener">Rama, Javelyn</a>
                  <a href="https://www.facebook.com/jurell.reyes" target="_blank" rel="noopener">Reyes, Jurell</a>
                  <a href="https://www.facebook.com/longflow23" target="_blank" rel="noopener">Sengson, Oliver</a>
                </div>
            </div>
                <div class="mention">
                  <p>The students of ICT 12-1P in Arellano University - Elisa Esguerra Campus - Malabon S.Y. 2023-2024</p>
                </div>
          
            
    </div>
    <div class="settings-container">
        <div class="settings-logo">
            <img src="logo.png" alt="Logo" >
            <p class="settings-logo-name">Taskmate</p>
        </div>
        <div class="settings-heading">
            <h2 >Settings</h2>
            
        </div>
        <div class="settings-main">
            <div class="main-change-settings">

                    <div class="settings-box">
                        <div class="settings-icon" id="settings-icon-password"><box-icon type='solid' name='lock-alt'></box-icon></div>
                        <div class="settings-text">
                            <h3>Change Password</h3>
                        </div>
                    </div>
                    <div class="settings-box">
                        <div class="settings-icon" id="settings-icon-email"><box-icon name='envelope' type='solid' ></box-icon></div>
                        <div class="settings-text">
                            <h3>Change Email</h3>
                        </div>
                    </div>
                    <div class="settings-box">
                        <div class="settings-icon" id="settings-icon-birthdate"><box-icon name='calendar' type='solid' ></box-icon></div>
                        <div class="settings-text">
                            <h3>Change Username</h3>
                        </div>
                    </div>
            </div>
            <div class="settings-form">
                <div class="settings-form-child">
                    <h2>Change</h2>
                    <div class="settings-change-password">
                        <p class="invalid-pass-para">Password doesn't Match.</p>
                        <div class="input-settings-box">
                            <input type="password" name="password" required readonly placeholder="Current Password" id="input-current-pass" autocomplete="current-password">
                        </div>
                        <div class="btn-show-current-pass">Show Password</div>
                        <div class="input-settings-box">
                            <input type="password" name="password" required placeholder="New Password" autocomplete="new-password" id="input-new-pass">
                        </div>
                        <div class="btn-show-new-pass">Show Password</div>
                        <div class="input-settings-box">
                            <input type="password" name="password" required placeholder="Confirm Password" autocomplete="new-password" id="input-confirm-pass">
                        </div>
                        <div class="btn-show-confirm-pass">Show Password</div>
                    </div>
                   
                </div>

                <div class="settings-change-email">
                    <p class="invalid-email-para">Email doesn't Match.</p>
                    <div class="input-settings-box">
                        <input type="email" name="email" required placeholder="Current Email" id="input-current-email" autocomplete="email">
                    </div>
                    <div class="input-settings-box">
                        <input type="email" name="email" required placeholder="New Email" id="input-new-email" autocomplete="email">
                    </div>
                    <div class="input-settings-box">
                        <input type="email" name="email" required placeholder="Confirm Email" id="input-confirm-email" autocomplete="email">
                    </div>
                    <div class="input-settings-box">
                        <input type="text" name="number" required placeholder="Code" id="input-send-code" autocomplete="postal-code">
                    </div>
                </div>
                <div class="settings-change-birthdate">
                    <p class="invalid-username-para">Invalid Username.</p>
                    <div class="input-settings-box">
                        <input type="text" name="text" required placeholder="Current Username" id="input-current-birthdate" autocomplete="bday-year">
                    </div>
                    <div class="current-email-para">Current Username</div>
                    <div class="input-settings-box">
                        <input type="text" name="username" required placeholder="New Username" id="input-new-birthdate" autocomplete="bday-year">
                    </div>
                    <div class="new-email-para">New Username</div>
                </div>
                <div class="input-settings-box">
                    <button  type ="button"class="settings-send-code">Send Code</button>
                    <button  type="button" class="btn-submit-changes">Confirm Changes</button>
                </div>
                
                <p class="confirm-changes-para">Successfully Changed. Please Log in again to view the Changes.</p>
            </div>
        </div>
    </div>
    <div class="nav-left" id="navLeft">
      <label >
         <input type="checkbox" class="togglebox" >
         <div class="toggle">
                <span class="top-line line"></span>
                <span class="middle-line line"></span>
                 <span class="bottom-line line"></span>
           </div>
          <div class="slide">
             <h3>Menu</h3>
              <ul>
                 
                   <li id="navbar-note"><a href="#"><box-icon name='home' type='solid' class="box-icon"></box-icon> <p>Home</p> </a></li>
                   <li id="navbar-add-act"><a href="#" id="navbar-addacc"><box-icon type='solid' name='notepad'class="box-icon"></box-icon>Add Activity</a></li>
                   <li id="navbar-profile"><a href="#"><box-icon type='solid' name='user'class="box-icon" ></box-icon>Profile</a></li>
                   <li id="navbar-settings"><a href="#"><box-icon type='solid' name='cog'class="box-icon"></box-icon>Settings</a></li>                  
                  <li id="navbar-about"><a href="#"><box-icon name='universal-access'class="box-icon" ></box-icon>About Us</a></li>
                 
                  <li id="navbar-logout"><a href="#"><box-icon name='log-out'class="box-icon"></box-icon>Log Out</a></li>
              </ul>
        
         </div>
    
      </label>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
          <p>Do you want to continue?</p>
          <button type="button" id="yesBtn">Yes</button>
          <button  type= "button"id="noBtn">No</button>
        </div>
      </div>
</form>
    <script>
     
        function checkAllActsTitile(title){
            var listOfActDivContainer = document.getElementById("list-of-act-container");
            document.querySelector("#created-act").textContent = "Check Activities"
            removeListDiv()
            let passedActs = JSON.parse(localStorage.getItem('passedActs')) || [];
            for(let l = 0; l < passedActs.length; l++){
                 
                        if(teacher == passedActs[l].teacher && passedActs[l].studentScore == "0" && title == passedActs[l].actTitle &&  passedActs[l].returned != "true"){
                           
                            var listOfActDiv = document.createElement("div");
                            listOfActDiv.classList.add("list-of-act-box");
                            listOfActDiv.style.cursor = "pointer";
                            var listOfActDivParaSpan = document.createElement("span");
                            listOfActDivParaSpan.textContent = passedActs[l].studentName;
                            listOfActDiv.addEventListener("click", function() {
                                let selectedActivity = {
                                    title: passedActs[l].actTitle,
                                    description : passedActs[l].studentActComment,
                                    teacher : passedActs[l].teacher,
                                    teacherName : passedActs[l].studentName,
                                    subjectName : passedActs[l].passedSubj,
                                    actScore : passedActs[l].actScore,
                                    dueDate :passedActs[l].datePassed,
                                    image : passedActs[l].studentPassedFile,
                                    imageFiles : passedActs[l].studentPassedFileActs 
                                }
                                localStorage.setItem("selectedAct", JSON.stringify(selectedActivity));
                                window.location.href = "mainact.html"; 
                                
                             });
                            var listOfActDivImg = document.createElement("div");
                            listOfActDivImg.classList.add("list-img");
                            var listOfActDivPara = document.createElement("div");
                            listOfActDivPara.classList.add("list-of-act-para")
                            var img = document.createElement('img');
                            img.src = passedActs[l].studentPassedFile ;
                            listOfActDivImg.appendChild(img);
                            var listOfActDivNameofTeacher = document.createElement("i");
                            var listOfActDivTotalScore = document.createElement("p");
                            listOfActDivTotalScore.textContent = "Score : " + passedActs[l].actScore;
                            listOfActDivNameofTeacher.textContent = passedActs[l].studentSection;
                            var listOfActDivParaHref = document.createElement("a");
                            var listOfActDivParaDescrip = document.createElement("p");
                            listOfActDivParaDescrip.textContent = passedActs[l].studentActComment;
                            listOfActDivParaDescrip.classList.add("student-act-descrip")
                            listOfActDivParaHref.textContent = passedActs[l].actTitle;
                            var listOfActDivDatePassed = document.createElement("p");
                            listOfActDivDatePassed.textContent =  passedActs[l].datePassed;
                            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
                            listOfActDivPara.appendChild(listOfActDivTotalScore);
                            listOfActDivPara.appendChild(listOfActDivParaSpan);
                            listOfActDivPara.appendChild(listOfActDivParaHref);
                            listOfActDivPara.appendChild(listOfActDivDatePassed);
                            listOfActDivPara.appendChild(listOfActDivParaDescrip);
                            
                            listOfActDiv.appendChild(listOfActDivImg);
                            listOfActDiv.appendChild(listOfActDivPara);
                            var listOfActDivContainer = document.getElementById("list-of-act-container");
                            listOfActDivContainer.appendChild(listOfActDiv);
                        }
                    }
                    checkIfDivsExist()
        }
        function checkAllActs(){
            var listOfActDivContainer = document.getElementById("list-of-act-container");
            document.querySelector("#created-act").textContent = "Check Activities"
            removeListDiv()
            for(let l = 0; l < passedActs.length; l++){
                  
                        if(teacher == passedActs[l].teacher && passedActs[l].studentScore == "0" && passedActs[l].returned != "true"){
                           
                            var listOfActDiv = document.createElement("div");
                            listOfActDiv.classList.add("list-of-act-box");
                            listOfActDiv.style.cursor = "pointer";
                            var listOfActDivParaSpan = document.createElement("span");
                            listOfActDivParaSpan.textContent = passedActs[l].studentName;
                            listOfActDiv.addEventListener("click", function() {
                                let selectedActivity = {
                                    title: passedActs[l].actTitle,
                                    description : passedActs[l].studentActComment,
                                    teacher : passedActs[l].teacher,
                                    teacherName : passedActs[l].studentName,
                                    subjectName : passedActs[l].passedSubj,
                                    actScore : passedActs[l].actScore,
                                    dueDate :passedActs[l].datePassed,
                                    image : passedActs[l].studentPassedFile,
                                    imageFiles : passedActs[l].studentPassedFileActs 
                                }
                                localStorage.setItem("selectedAct", JSON.stringify(selectedActivity));
                                window.location.href = "mainact.html"; 
                                
                             });
                            var listOfActDivImg = document.createElement("div");
                            listOfActDivImg.classList.add("list-img");
                            var listOfActDivPara = document.createElement("div");
                            listOfActDivPara.classList.add("list-of-act-para")
                            var img = document.createElement('img');
                            img.src = passedActs[l].studentPassedFile ;
                            listOfActDivImg.appendChild(img);
                            var listOfActDivNameofTeacher = document.createElement("i");
                            var listOfActDivTotalScore = document.createElement("p");
                            listOfActDivTotalScore.textContent = "Score : " + passedActs[l].actScore;
                            listOfActDivNameofTeacher.textContent = passedActs[l].studentSection;
                            var listOfActDivParaHref = document.createElement("a");
                            var listOfActDivParaDescrip = document.createElement("p");
                            listOfActDivParaDescrip.textContent = passedActs[l].studentActComment;
                            listOfActDivParaDescrip.classList.add("student-act-descrip")
                            listOfActDivParaHref.textContent = passedActs[l].actTitle;
                            var listOfActDivDatePassed = document.createElement("p");
                            listOfActDivDatePassed.textContent =  passedActs[l].datePassed;
                            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
                            listOfActDivPara.appendChild(listOfActDivTotalScore);
                            listOfActDivPara.appendChild(listOfActDivParaSpan);
                            listOfActDivPara.appendChild(listOfActDivParaHref);
                            listOfActDivPara.appendChild(listOfActDivDatePassed);
                            listOfActDivPara.appendChild(listOfActDivParaDescrip);
                            
                            listOfActDiv.appendChild(listOfActDivImg);
                            listOfActDiv.appendChild(listOfActDivPara);
                            var listOfActDivContainer = document.getElementById("list-of-act-container");
                            listOfActDivContainer.appendChild(listOfActDiv);
                        }
                    }
                    checkIfDivsExist()
        }
        function removeValues(){
            document.querySelector("#search-students").value = ""
        }
       function removeListDiv() {
         var listOfActDivContainer = document.getElementById("list-of-act-container");
         if (listOfActDivContainer) {
            var listOfActDivs = listOfActDivContainer.querySelectorAll(".list-of-act-box");
            listOfActDivs.forEach(function(div) {
            listOfActDivContainer.removeChild(div);
            });
        } 
    }
    
    function createListDiv(group) {
    removeListDiv();
     passedActs = JSON.parse(localStorage.getItem('passedActs')) || [];
     createdActs = JSON.parse(localStorage.getItem("createdActs")) || [];
    for (let l = 0; l < group.length; l++) {
        if (group[l].teacher == teacher) {
            let act = {
                imgAct: group[l].imgAct,
                actTitle: group[l].actTitle,
                actDescrip: group[l].actDescrip,
                teacher: group[l].teacher,
                teachFullname: group[l].teachFullname,
                actSection: group[l].actSection,
                dueDate: group[l].dueDate
            };
          
            let listOfActDiv = document.createElement("div");
            listOfActDiv.classList.add("list-of-act-box");

            let listOfActDivImg = document.createElement("div");
            listOfActDivImg.classList.add("list-img");
            let img = document.createElement('img');
            img.src = group[l].imgAct;
            listOfActDivImg.appendChild(img);

            let listOfActDivPara = document.createElement("div");
            listOfActDivPara.classList.add("list-of-act-para");
            let listOfActDivNameofTeacher = document.createElement("i");
            listOfActDivNameofTeacher.textContent = group[l].teacher;
            let listOfActDivParaSpan = document.createElement("span");
            listOfActDivParaSpan.textContent = group[l].dueDate;
            let listOfActDivParaHref = document.createElement("a");
            let listOfActDivParaDescrip = document.createElement("p");
            listOfActDivParaDescrip.textContent = group[l].actDescrip;
            listOfActDivParaDescrip.classList.add("student-act-descrip");
            listOfActDivParaHref.textContent = group[l].actTitle;

            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
            listOfActDivPara.appendChild(listOfActDivParaSpan);
            listOfActDivPara.appendChild(listOfActDivParaHref);
            listOfActDivPara.appendChild(listOfActDivParaDescrip);

            listOfActDiv.appendChild(listOfActDivImg);
            listOfActDiv.appendChild(listOfActDivPara);

            var removeButton = document.createElement('button');
            removeButton.style.cursor = "pointer";
            removeButton.textContent = "Remove"
            removeButton.classList.add("remove-peding-acts")
           
            

            listOfActDiv.appendChild(removeButton);
           
            var listOfActDivContainer = document.getElementById("list-of-act-container");
            listOfActDivContainer.appendChild(listOfActDiv);
            removeButton.addEventListener("click",()=>{
                let indexToRemove = group.findIndex(item => teacher === item.teacher && act.actTitle === item.actTitle );
                listOfActDiv.remove();
                
                removeFromLocalStorage(indexToRemove);
               
               
               
                if(group.length == 1){
                    removeListDiv()
                    checkIfDivsExist()
                }
                checkIfDivsExist()
            }) 
            // listOfActDiv.addEventListener("click", function() {
            //                     let selectedActivity = {
            //                         title: group[l].actTitle,
            //                         description : group[l].actDescrip,
            //                         teacher :group[l].teacher,
            //                         teacherName : group[l].teachFullname,
            //                         subjectName : document.querySelector("#subject-spec2").textContent,
            //                         actScore : group[l].actScore,
            //                         dueDate :group[l].dueDate,
            //                         image : group[l].imgAct,
            //                         imageFiles : group[l].imgFiles,
            //                         editAct : "true"
            //                     }
            //                     localStorage.setItem("selectedAct", JSON.stringify(selectedActivity));
            //                     window.location.href = "mainact.html"; 
                                
            //                  });
        }
    }
}

        function createListDivForStudent( nameOfTeacher, textContent){
             passedActs = JSON.parse(localStorage.getItem('passedActs')) || [];
             createdActs = JSON.parse(localStorage.getItem("createdActs")) || [];
            for(let l = 0; l < createdActs.length; l++){
                for(let i = 0;i<createdActs[l].listOfSectionsActs.length;i++ ){
                    if((createdActs[l].actSection == loggedAccount.section || createdActs[l].listOfSectionsActs[i]) && createdActs[l].teachFullname == nameOfTeacher){
                            var listOfActDiv = document.createElement("div");
                            listOfActDiv.classList.add("list-of-act-box");
                            listOfActDiv.style.cursor = "pointer";
                            listOfActDiv.addEventListener("click", function() {
                                let selectedActivity = {
                                    title: createdActs[l].actTitle,
                                    description : createdActs[l].actDescrip,
                                    teacher : createdActs[l].teacher,
                                    teacherName : createdActs[l].teachFullname,
                                    subjectName : textContent,
                                    actScore : createdActs[l].actScore,
                                    dueDate : createdActs[l].dueDate,
                                    image : createdActs[l].imgAct,
                                    imageFiles : createdActs[l].imgFiles
                                }
                                localStorage.setItem("selectedAct", JSON.stringify(selectedActivity));
                                window.location.href = "mainact.html"; 
                                
                             });
                            var listOfActDivImg = document.createElement("div");
                            listOfActDivImg.classList.add("list-img");
                            var listOfActDivPara = document.createElement("div");
                            listOfActDivPara.classList.add("list-of-act-para")
                            var img = document.createElement('img');
                            img.src = createdActs[l].imgAct;
                            listOfActDivImg.appendChild(img);
                            var listOfActDivNameofTeacher = document.createElement("i");
                            var listOfActDivTotalScore = document.createElement("p");
                            listOfActDivTotalScore.textContent = "Score : " + createdActs[l].actScore;
                            listOfActDivNameofTeacher.textContent = createdActs[l].teachFullname;
                            var listOfActDivParaSpan = document.createElement("span");
                            listOfActDivParaSpan.textContent = createdActs[l].dueDate;
                            var listOfActDivParaHref = document.createElement("a");
                            var listOfActDivParaDescrip = document.createElement("p");
                            listOfActDivParaDescrip.textContent = createdActs[l].actDescrip;
                            listOfActDivParaDescrip.classList.add("student-act-descrip")
                            listOfActDivParaHref.textContent = createdActs[l].actTitle;
                            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
                            listOfActDivPara.appendChild(listOfActDivTotalScore);
                            listOfActDivPara.appendChild(listOfActDivParaSpan);
                            listOfActDivPara.appendChild(listOfActDivParaHref);
                            listOfActDivPara.appendChild(listOfActDivParaDescrip);
                            
                            listOfActDiv.appendChild(listOfActDivImg);
                            listOfActDiv.appendChild(listOfActDivPara);
                            var listOfActDivContainer = document.getElementById("list-of-act-container");
                            listOfActDivContainer.appendChild(listOfActDiv);
                            break
                        }
                    
                }
                       
                    }
        }
        function profileClicked(){
            checkPp(teacher)
            removeValues()
            document.querySelector("#profile-check-student-acts").style.display ="none"
        forTeacherContainer.style.opacity = "0";
        forTeacherContainer.style.transform = "translateX(-100%)";
      
            profileContainer.style.opacity = "1";
            profileContainer.style.transform = "translate(-50%, -50%)"
            
            studentTableContainer.style.opacity = "0";
        studentTableContainer.style.transform = "translate(-50%,-200%)";
            settingsContainer.style.opacity = "0"
            settingsContainer.style.transform = "translate(-50%,-200%)"
        listofActStudents.style.opacity = "0";
        listofActStudents.style.transform = "translateX(100%)";
        noteContainer.style.opacity = "0";
        noteContainer.style.transform = "translateX(-100%)";
        
        fillContainer.style.opacity = "0";
        fillContainer.style.transform = "translateX(-100%)";
        
      
        aboutUsContainer.style.opacity = "0";
        aboutUsContainer.style.transform = "translateX(-100%)";
        if(ifTeacher == "true"){
            document.querySelector("#position").textContent = "Teacher"
            document.querySelector("#email").textContent = ""
            document.querySelector("#birthdate").textContent = ""
            document.querySelector("#sections").textContent = ""
            if(teacher == "cheraj"){
                document.querySelector("#subject-spec1").textContent = "Animation 2 : Photoshop"
                document.querySelector("#subject-spec2").textContent = "Animation 4 : Photoshop"
            }else if(teacher == "malacura"){
                document.querySelector("#subject-spec1").textContent = "Computer Programming 2 : C "
                document.querySelector("#subject-spec2").textContent = "Computer Programming 4 : HTML"
            }else if(teacher == "denzh"){
                document.querySelector("#subject-spec1").textContent = "Animation 1 : Flash"
                document.querySelector("#subject-spec2").textContent = "Animation 3 : Flash"
            }else if(teacher == "garcia"){
                document.querySelector("#subject-spec1").textContent ="Computer Programming 1 : Java "
                document.querySelector("#subject-spec2").textContent = "Computer Programming 3 : VB.net "
            }
        }
        }
        function settingsClicked(){
            removeValues()
            profileContainer.style.opacity = "0";
        profileContainer.style.transform = "translate(-50%,200%)"
        noteContainer.style.opacity = "0";
        noteContainer.style.transform = "translateX(-100%)";
         forTeacherContainer.style.opacity = "0";
        forTeacherContainer.style.transform = "translateX(-100%)";
        settingsContainer.style.opacity = "1"
        settingsContainer.style.transform = "translate(-50%,-50%)"
        fillContainer.style.opacity = "0";
        fillContainer.style.transform = "translateX(-100%)";
        studentTableContainer.style.opacity = "0";
        studentTableContainer.style.transform = "translate(-50%,-200%)";
        listofActStudents.style.opacity = "0";
        listofActStudents.style.transform = "translateX(100%)";
        aboutUsContainer.style.opacity = "0";
        aboutUsContainer.style.transform = "translateX(-100%)";
        }
        var admin = JSON.parse(localStorage.getItem("adminAccount")) || [];
        var ifTeacher = localStorage.getItem("ifTeacher")
        var teacher = localStorage.getItem("teacher");
    
       var profileContainer = document.getElementById("profile-container");
       profileContainer.style.opacity = "0";
        profileContainer.style.transform = "translate(-50%,200%)"
       var noteContainer = document.getElementById("note-container");
       var forTeacherContainer = document.getElementById("for-teacher-container");
       forTeacherContainer.style.opacity = "0";
       forTeacherContainer.style.transform = "translateX(-100%)";
       var teachContainer= document.querySelector(".teach-container");
       var fillContainer = document.getElementById("fill-container");
       fillContainer.style.opacity = "0";
       var listofActStudents = document.getElementById("list-of-act");
       if(ifTeacher == "true") {
        listofActStudents.style.opacity = "0";
        listofActStudents.style.transform = "translateX(100%)";
       }
       var settingsContainer = document.querySelector('.settings-container');
       settingsContainer.style.opacity = "0"
       settingsContainer.style.transform = "translate(-50%,-200%)"
       var studentTableContainer = document.getElementById("student-table-container");
       var aboutUsContainer = document.getElementById("about-us-container");
       aboutUsContainer.style.transform = "translateX(-100%)";

       var navbarProfile = document.getElementById("navbar-profile");
       navbarProfile.addEventListener("click",()=>{
        document.querySelector(".togglebox").checked = !document.querySelector(".togglebox").checked

        profileClicked()
       })
       document.querySelector("#footer-profile").addEventListener("click",()=>{
        profileClicked()
       })
       var navbarNote = document.getElementById("navbar-note");

       navbarNote.addEventListener("click", ()=>{
        removeValues()
        document.querySelector(".togglebox").checked = !document.querySelector(".togglebox").checked
        forTeacherContainer.style.opacity = "0";
        forTeacherContainer.style.transform = "translateX(-100%)";
        profileContainer.style.opacity = "0";
        profileContainer.style.transform = "translate(-50%,200%)"
        noteContainer.style.opacity = "1";
        noteContainer.style.transform = "translateX(0%)";
        settingsContainer.style.opacity = "0"
        settingsContainer.style.transform = "translate(-50%,-200%)"
        if(ifTeacher == "true"){
            noteContainer.style.visibility = "hidden";
            noteContainer.style.display = "none";
            studentTableContainer.style.opacity = "1";
            studentTableContainer.style.transform = "translate(-50%, -50%)";
            listofActStudents.style.opacity = "0";
            listofActStudents.style.transform = "translateX(100%)";
            document.querySelector(".back-to-table").style.display = "block"
         
        }else{ 
          
            
        if (listofActStudents.style.opacity === "0") {
            listofActStudents.style.opacity = "1";
            listofActStudents.style.transform = "translateX(0%)";
           
           } 
           
           studentTableContainer.style.opacity = "0";
            studentTableContainer.style.transform = "translate(-50%,-200%)";
            noteContainer.style.opacity = "1";
            noteContainer.style.transform = "translateX(0%)";
        }
        fillContainer.style.opacity = "0";
        fillContainer.style.transform = "translateX(-100%)";
        aboutUsContainer.style.opacity = "0";
        aboutUsContainer.style.transform = "translateX(-100%)";
       })
       var navbarSetting = document.getElementById("navbar-settings");
       navbarSetting.addEventListener("click", ()=>{
        removeValues()
        document.querySelector(".togglebox").checked = !document.querySelector(".togglebox").checked
        settingsClicked()
       })
       document.querySelector("#footer-settings").addEventListener("click",()=>{
        settingsClicked()
       })
       var navbarAbout = document.getElementById("navbar-about");
       navbarAbout.addEventListener("click", ()=>{
        removeValues()
        settingsContainer.style.opacity = "0"
       settingsContainer.style.transform = "translate(-50%,-200%)"
        document.querySelector(".togglebox").checked = !document.querySelector(".togglebox").checked
        profileContainer.style.opacity = "0";
        profileContainer.style.transform = "translate(-50%,200%)"
        noteContainer.style.opacity = "0";
        noteContainer.style.transform = "translateX(-100%)";
        forTeacherContainer.style.opacity = "0";
        forTeacherContainer.style.transform = "translateX(-100%)";
        studentTableContainer.style.opacity = "0";
        studentTableContainer.style.transform ="translate(-50%,-200%)";
        listofActStudents.style.opacity = "0";
        listofActStudents.style.transform = "translateX(100%)";
        aboutUsContainer.style.opacity = "1";
        aboutUsContainer.style.transform = "translateX(0%)";
       })
       var navbarAddAct = document.getElementById("navbar-add-act");
       navbarAddAct.addEventListener("click",()=>{
        removeValues()
        document.querySelector(".sort-actvities-div").style.display = "none"
        document.querySelector("#created-act").textContent = "Created Activities"
        document.querySelector(".back-to-table").style.display = "none"
        settingsContainer.style.opacity = "0"
        settingsContainer.style.transform = "translate(-50%,-200%)"
        document.querySelector(".togglebox").checked = !document.querySelector(".togglebox").checked
        createListDiv(createdActs)
        forTeacherContainer.style.opacity = "1";
        forTeacherContainer.style.transform = "translateX(0%)";
        profileContainer.style.opacity = "0";
        profileContainer.style.transform = "translate(-50%,200%)"
        noteContainer.style.opacity = "0";
        noteContainer.style.transform = "translateX(-100%)";
        if (listofActStudents.style.opacity === "0") {
            listofActStudents.style.opacity = "1";
            listofActStudents.style.transform = "translateX(0%)";
        } 
        aboutUsContainer.style.opacity = "0";
        aboutUsContainer.style.transform = "translateX(-100%)";
        studentTableContainer.style.opacity = "0";
        studentTableContainer.style.transform = "translate(-50%,-200%)";
        checkIfDivsExist()
       })
        var accounts = JSON.parse(localStorage.getItem("accounts")) || [];
        var loggedAccount = JSON.parse(localStorage.getItem("loggedAccount")) || {};
        var createdActs = JSON.parse(localStorage.getItem("createdActs")) || [];
      
       var teachFullname;
        document.getElementById("btn-check-activity").addEventListener("click",()=>{
            studentTableContainer.style.opacity = "0";
            studentTableContainer.style.transform = "translate(-50%,-200%)";
            document.querySelector(".sort-actvities-div").style.display = "block"
            if (listofActStudents.style.opacity === "0") {
                listofActStudents.style.opacity = "1";
                 listofActStudents.style.transform = "translateX(0%)";
            } 
            removeValues()
        })
        document.getElementById("name").textContent = loggedAccount.username;
        document.getElementById("email").textContent = loggedAccount.email;
        document.getElementById("birthdate").textContent = loggedAccount.date;
        document.getElementById("sections").textContent = loggedAccount.section;
     
        if(loggedAccount.section == "ICT-12-1P" || loggedAccount.section == "ICT-12-2P" || loggedAccount.section == "ICT-12-1A" || loggedAccount.section == "ICT-12-2A"){
            document.getElementById("subj-name").textContent = "Animation 3 : Flash"
            document.getElementById("subj-name-2").textContent = "Animation 4 : Photoshop"
            document.getElementById("subj-teach").textContent = "Denzh Bulaong"
            document.getElementById("subj-teach-2").textContent = "Che Veronica Raj"
            document.getElementById("subject-spec1").textContent =  document.getElementById("subj-name").textContent
            document.getElementById("subject-spec2").textContent =  document.getElementById("subj-name-2").textContent

        }
        if (loggedAccount.section == "ICT-11-1P" || loggedAccount.section == "ICT-11-2P" || loggedAccount.section == "ICT-11-1A" || loggedAccount.section == "ICT-11-2A") {
            document.getElementById("subj-name").textContent = "Computer Programming 3 : HTML";
            document.getElementById("subj-name-2").textContent = "Computer Programming 4 : VB.net";
            document.getElementById("subj-teach").textContent = "Anthony Malacura";
            document.getElementById("subj-teach-2").textContent = "Nicole Denielle Garcia";
            document.getElementById("subject-spec1").textContent =  document.getElementById("subj-name").textContent
            document.getElementById("subject-spec2").textContent =  document.getElementById("subj-name-2").textContent
    }
        var actSection = document.getElementById("act-section");
        let postAct = true;
        let postAct2 = true
         let nameOfteach = document.querySelector("#subj-teach").textContent
         let nameOfteach2 = document.querySelector("#subj-teach-2").textContent
         document.querySelector('.back-to-table').addEventListener("click",()=>{
            studentTableContainer.style.opacity = "1";
            studentTableContainer.style.transform = "translate(-50%, -50%)";
            listofActStudents.style.opacity = "0";
            listofActStudents.style.transform = "translateX(100%)";
            document.getElementById('dropdown-bar').checked = !document.getElementById('dropdown-bar').checked
         })
        //Sort Buttons
        document.getElementById("recent-acts").addEventListener("click",()=>{
            removeListDiv()
            
            if(postAct) createListDivForStudent(nameOfteach2,document.getElementById("subj-name-2").textContent)
            if(postAct2) createListDivForStudent(nameOfteach,document.getElementById("subj-name").textContent)
            document.querySelector("#created-act").textContent = "Recent Activities"
            var listOfActDivContainer = document.getElementById("list-of-act");
                    var boxItems = listOfActDivContainer.querySelectorAll(".list-of-act-box")
                   
                    boxItems.forEach(function(boxItem){
                        var a = boxItem.querySelector("a").innerText
                        passedActs.forEach(function(passedAct){
                            if(loggedAccount.username == passedAct.studentName && passedAct.actTitle == a ){
                               boxItem.remove()
                            }
                        })
                       
                    })
            checkIfDivsExist()
        })
        
        document.getElementById("passed-acts").addEventListener("click", () => {
            deletePassedActs()
});
    function deletePassedActs() {
        removeListDiv();
    document.querySelector("#created-act").textContent = "Pending Activities";
     passedActs = JSON.parse(localStorage.getItem('passedActs')) || [];

    for (let pl = 0; pl < passedActs.length; pl++) {
        if (loggedAccount.username == passedActs[pl].studentName && document.getElementById("subject-name").textContent == passedActs[pl].passedSubj && (passedActs[pl].studentScore == "0" || passedActs[pl].returned == "true")) {
            let act = {
                imgAct: passedActs[pl].studentPassedFile,
                actTitle: passedActs[pl].actTitle,
                name: passedActs[pl].username,
                teacher: passedActs[pl].teacher,
                teachFullname: passedActs[pl].studentTeacher,
                actSection: passedActs[pl].studentSection,
                dueDate: passedActs[pl].datePassed,
                index: pl // Store the index in the act object
            };
            let pRet =document.createElement("p")
            let listComment = document.createElement("p")
            if(passedActs[pl].returned == "true"){
             
                pRet.textContent = "Returned"
                pRet.classList.add("returned")
                listComment.textContent = passedActs[pl].studentActComment 
            }
            let listOfActDiv = document.createElement("div");
            listOfActDiv.classList.add("list-of-act-box");
            let listOfActDivImg = document.createElement("div");
            listOfActDivImg.classList.add("list-img");
            let listOfActDivPara = document.createElement("div");
            listOfActDivPara.classList.add("list-of-act-para");
            let img = document.createElement('img');
            img.src = passedActs[pl].studentPassedFile;
            listOfActDivImg.appendChild(img);
            let listOfActDivNameofTeacher = document.createElement("i");
            let listOfActDivTotalScore = document.createElement("p");
            listOfActDivTotalScore.textContent = "Score : " + passedActs[pl].actScore;
            listOfActDivNameofTeacher.textContent = passedActs[pl].teacherName;
            let listOfActDivParaSpan = document.createElement("span");
            listOfActDivParaSpan.textContent = passedActs[pl].passedSubj;
            let listOfActDivParaHref = document.createElement("a");
            let listOfActDivParaDescrip = document.createElement("p");
            let removePendingActs = document.createElement("button");
            removePendingActs.classList.add("remove-peding-acts");
            removePendingActs.textContent = "Remove";
            removePendingActs.type = "button";

           
            removePendingActs.addEventListener("click", (event) => {
                let indexToRemove = passedActs.findIndex(item => item.studentPassedFile === act.imgAct && item.datePassed === act.dueDate);
                removeFromLocalStoragePassed(indexToRemove);
                listOfActDiv.remove(); 
               
               
                checkIfDivsExist(); 
                deletePassedActs()
               
            });
            listOfActDivPara.appendChild(pRet);
            listOfActDivParaDescrip.textContent = passedActs[pl].studentActComment;
            listOfActDivParaDescrip.classList.add("student-act-descrip");
            listOfActDivParaHref.textContent = passedActs[pl].actTitle;
            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
            listOfActDivPara.appendChild(listOfActDivTotalScore);
            listOfActDivPara.appendChild(listOfActDivParaSpan);
            listOfActDivPara.appendChild(listOfActDivParaHref);
            listOfActDivPara.appendChild(listOfActDivParaDescrip);

            listOfActDiv.appendChild(listOfActDivImg);
            listOfActDiv.appendChild(listOfActDivPara);
            listOfActDivPara.appendChild(removePendingActs);
            let listOfActDivContainer = document.getElementById("list-of-act-container");
            listOfActDivContainer.appendChild(listOfActDiv);
          
        }
    }
    checkIfDivsExist(); 
    }
        document.getElementById("graded-acts").addEventListener("click",()=>{
             removeListDiv()   
            document.querySelector("#created-act").textContent = "Completed Activities"
            for(var pl = 0; pl < passedActs.length;pl++){
                if(loggedAccount.username == passedActs[pl].studentName  && passedActs[pl].studentScore != "0"){
                   var listOfActDiv = document.createElement("div");
                 
                   listOfActDiv.classList.add("list-of-act-box");
                   var listOfActDivImg = document.createElement("div");
                    listOfActDivImg.classList.add("list-img");
                    var listOfActDivPara = document.createElement("div");
                    listOfActDivPara.classList.add("list-of-act-para")
                    var img = document.createElement('img');
                    img.src = passedActs[pl].studentPassedFile ;
                    listOfActDivImg.appendChild(img);
                    var listOfActDivNameofTeacher = document.createElement("i");
                    var listOfActDivTotalScore = document.createElement("p");
                    listOfActDivTotalScore.textContent = "Score : " + passedActs[pl].studentScore + "/" + passedActs[pl].actScore;
                    listOfActDivNameofTeacher.textContent = passedActs[pl].teacherName;
                    var listOfActDivParaSpan = document.createElement("span");
                    listOfActDivParaSpan.textContent = passedActs[pl].passedSubj;
                    var listOfActDivParaHref = document.createElement("a");
                    var listOfActDivParaDescrip = document.createElement("p");
                    listOfActDivParaDescrip.textContent = passedActs[pl].studentActComment ;
                    listOfActDivParaDescrip.classList.add("student-act-descrip")
                    listOfActDivParaHref.textContent = passedActs[pl].actTitle;
                    listOfActDivPara.appendChild(listOfActDivNameofTeacher);
                    listOfActDivPara.appendChild(listOfActDivTotalScore);
                    listOfActDivPara.appendChild(listOfActDivParaSpan);
                    listOfActDivPara.appendChild(listOfActDivParaHref);
                    listOfActDivPara.appendChild(listOfActDivParaDescrip);
                    listOfActDiv.appendChild(listOfActDivImg);
                    listOfActDiv.appendChild(listOfActDivPara);
                    var listOfActDivContainer = document.getElementById("list-of-act-container");
                    listOfActDivContainer.appendChild(listOfActDiv);
                }
            }
            checkIfDivsExist();
        })
        if(ifTeacher == "false"){
            document.querySelector(".act-names-teachers").style.display = "none"
            document.querySelector("#profile-check-student-acts").style.display = "none"
            document.getElementById('for-teacher-container').style.display = "none"
            document.getElementById("position").textContent ="Student";
            document.getElementById("navbar-add-act").style.display = "none";
            document.getElementById("sort-actvities-div").style.display = "block"
            document.querySelector("#created-act").textContent = "Recent Activities"
            document.getElementById("subject-name").style.display = "block"
            document.querySelector('.back-to-table').style.display = "none"
            listofActStudents.style.visibility = "visible";
            studentTableContainer.style.visibility = "hidden";
            document.getElementById("btn-subj").addEventListener("click", ()=>{
               
                document.querySelector("#created-act").textContent = "Recent Activities"
            
                document.getElementById("subject-name").textContent = document.getElementById("subj-name").textContent;
                if(postAct){
                    
                    removeListDiv()
                    createListDivForStudent(nameOfteach,document.getElementById("subj-name").textContent)
                    var listOfActDivContainer = document.getElementById("list-of-act");
                    var boxItems = listOfActDivContainer.querySelectorAll(".list-of-act-box")
                 
                    boxItems.forEach(function(boxItem){
                       
                        var a = boxItem.querySelector("a").innerText
                       
                        passedActs.forEach(function(passedAct){
                           
                            if(loggedAccount.username == passedAct.studentName && passedAct.actTitle == a ){
                               boxItem.remove()
                              
                            }
                        })
                       
                    })
                    postAct = false;
                    postAct2 =true;
                }
                checkIfDivsExist()
            })
            document.getElementById("btn-subj-2").addEventListener("click", ()=>{
                document.querySelector("#created-act").textContent = "Recent Activities"
            
                document.getElementById("subject-name").textContent = document.getElementById("subj-name-2").textContent;
                if(postAct2){
                    removeListDiv()
                    var listOfActDiv = document.createElement("div");
                    createListDivForStudent(nameOfteach2,document.getElementById("subj-name-2").textContent)
                    var listOfActDivContainer = document.getElementById("list-of-act");
                    var boxItems = listOfActDivContainer.querySelectorAll(".list-of-act-box")
                    listOfActDivContainer.querySelectorAll("div")
                    boxItems.forEach(function(boxItem){
                        var a = boxItem.querySelector("a").innerText
                        passedActs.forEach(function(passedAct){
                            if(loggedAccount.username == passedAct.studentName && passedAct.actTitle == a ){
                               boxItem.remove()
                            }
                        })
                       
                    })
                    postAct2 = false;
                    postAct = true;
                }
                checkIfDivsExist()
            })
        }else{
            document.querySelector(".act-students").style.display = "none"
            
            document.querySelector("#profile-check-student-acts").style.display = "block"
            document.querySelector('.back-to-table').style.display = "block"

            document.getElementById("subject-name").style.display = "none"
            document.querySelector("#created-act").textContent = "Created Activities"
            document.getElementById('for-teacher-container').style.display = "block"
             createListDiv(createdActs)
            document.getElementById("position").textContent = "Teacher";
            document.getElementById("email").textContent = "";
            document.getElementById("birthdate").textContent = "";
            document.getElementById("navbar-add-act").style.display = "block"
            noteContainer.style.visibility = "hidden"
            noteContainer.style.display = "none"
            listofActStudents.visibility = "visible"
            if(teacher == "garcia"){
                let vbnet = "Computer Programming : VB.net"
                let java = "Computer Programming : Java"
                let maamNicole = "Nicole Denielle Garcia"
                teachFullname = maamNicole

                document.getElementById("subject-spec1").textContent = vbnet
                document.getElementById("subject-spec2").textContent = java
                document.getElementById("name").textContent = maamNicole
                document.getElementById("subj-title").textContent = java
                document.getElementById("subj-title-2").textContent = vbnet
                document.getElementById("subj-desc").textContent = maamNicole
                document.getElementById("subj-desc-2").textContent = maamNicole
                actSection.options[1].value = "ICT-11-1P";
                actSection.options[1].textContent = actSection.options[1].value;
                actSection.options[2].value = "ICT-11-2P";
                actSection.options[2].textContent = actSection.options[2].value;
                actSection.options[3].value = "ICT-11-1A";
                actSection.options[3].textContent = actSection.options[3].value;
                actSection.options[4].value = "ICT-11-2A";
                actSection.options[4].textContent = actSection.options[4].value;
            }else if(teacher == "cheraj"){
                let photoshop2 =  "Animation 2 : Photoshop"
                let photoshop4 = "Animation 4 : Photoshop"
                let mamChe =  "Che Veronica Raj"
                teachFullname = mamChe
                document.getElementById("subject-spec1").textContent = photoshop2
                document.getElementById("subject-spec2").textContent = photoshop4
                document.getElementById("name").textContent = mamChe
                document.getElementById("subj-title").textContent = photoshop2
                document.getElementById("subj-title-2").textContent = photoshop4
                document.getElementById("subj-desc").textContent = mamChe
                document.getElementById("subj-desc-2").textContent = mamChe
                actSection.options[1].value = "ICT-12-1P";
                actSection.options[1].textContent = actSection.options[1].value;
                actSection.options[2].value = "ICT-12-2P";
                actSection.options[2].textContent = actSection.options[2].value;
                actSection.options[3].value = "ICT-12-1A";
                actSection.options[3].textContent = actSection.options[3].value;
                actSection.options[4].value = "ICT-12-2A";
                actSection.options[4].textContent = actSection.options[4].value;
            }else if(teacher == "denzh"){
                let flash1 = "Animation 1 : Flash"
                let flash3 = "Animation 3 : Flash"
                let sirDenhz = "Denzh Bulaong"
                teachFullname = sirDenhz
                document.getElementById("subject-spec1").textContent = flash1
                document.getElementById("subject-spec2").textContent = flash3
                document.getElementById("name").textContent = sirDenhz
                document.getElementById("subj-title").textContent = flash1
                document.getElementById("subj-title-2").textContent = flash3
                document.getElementById("subj-desc").textContent = sirDenhz
                document.getElementById("subj-desc-2").textContent = sirDenhz
                actSection.options[1].value = "ICT-12-1P";
                actSection.options[1].textContent = actSection.options[1].value;
                actSection.options[2].value = "ICT-12-2P";
                actSection.options[2].textContent = actSection.options[2].value;
                actSection.options[3].value = "ICT-12-1A";
                actSection.options[3].textContent = actSection.options[3].value;
                actSection.options[4].value = "ICT-12-2A";
                actSection.options[4].textContent = actSection.options[4].value;
            }else if(teacher == "malacura"){
                let compC = "Computer Programming 1 : C"
                let compHtml = "Computer Programming 3 : HTML"
                let sirMalacura = "Anthony Malacura"
                teachFullname = sirMalacura
                document.getElementById("subject-spec1").textContent = compC
                document.getElementById("subject-spec2").textContent = compHtml
                document.getElementById("name").textContent = sirMalacura
                document.getElementById("subj-title").textContent = compC
                document.getElementById("subj-title-2").textContent = compHtml
                document.getElementById("subj-desc").textContent = sirMalacura
                document.getElementById("subj-desc-2").textContent = sirMalacura
                actSection.options[1].value = "ICT-11-1P";
                actSection.options[1].textContent = actSection.options[1].value;
                actSection.options[2].value = "ICT-11-2P";
                actSection.options[2].textContent = actSection.options[2].value;
                actSection.options[3].value = "ICT-11-1A";
                actSection.options[3].textContent = actSection.options[3].value;
                actSection.options[4].value = "ICT-11-2A";
                actSection.options[4].textContent = actSection.options[4].value;
             }     
        }
       var passedActs = JSON.parse(localStorage.getItem("passedActs")) || [];
      // Check Acts
       var btnCheckActivity = document.getElementById("btn-check-activity");
       let alreadyLabeled = true
       btnCheckActivity.addEventListener("click",()=>{
      
            checkAllActs()
           if(alreadyLabeled){
            let listOFlabels = [];
            var passedActs = JSON.parse(localStorage.getItem("passedActs")) || [];
            if(document.querySelector("#sort-actvities").checked){
                document.querySelector("#sort-actvities") = !document.querySelector("#sort-actvities").checked
            }
            passedActs.forEach(passedAct => {
             if (teacher === passedAct.teacher && !listOFlabels.includes(passedAct.actTitle)) {
             var newBtnTitle = document.createElement("label");
             newBtnTitle.textContent = passedAct.actTitle;
             listOFlabels.push(passedAct.actTitle);
             document.querySelector(".act-names-teachers").appendChild(newBtnTitle);
             newBtnTitle.addEventListener("click", () => {
                 checkAllActsTitile(newBtnTitle.textContent);
                });
                  }
            });
            document.querySelector(".all-acts").addEventListener("click",()=>{
                     checkAllActs()
            })
            alreadyLabeled = false
           }
       })
       

       //User Profile Picture
       document.getElementById('fileInput').addEventListener('change',(event)=> {
            const file = event.target.files[0];
            const reader = new FileReader();
            
            reader.onload = function(event) {
                document.getElementById('profileImage').src = event.target.result;
            }
            
            reader.readAsDataURL(file);
        });
        document.getElementById('profileImage').addEventListener('click',()=>{
            const img = document.getElementById('profileImage');
            if (!document.fullscreenElement) {
                img.requestFullscreen().catch(err => {
                    console.error(`Error attempting to enable full-screen mode: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        })
        //Check All Students Acts
        let btnCheckPassAct = document.querySelector("#profile-check-student-acts")
        var clickedTableStudent = ""
        btnCheckPassAct.addEventListener("click",()=>{
            removeListDiv()
            document.querySelector("#created-act").textContent = clickedTableStudent + "'s " + "Activities"
            listofActStudents.style.opacity = "1";
            listofActStudents.style.transform = "translateX(0%)";
            profileContainer.style.opacity = "0";
            profileContainer.style.transform = "translate(-50%,200%)"
            var listOfActDivContainer = document.getElementById("list-of-act-container");
            document.querySelector("#sort-actvities-div").style.display = "none"
            for(let l = 0; l < passedActs.length; l++){
                        if(  passedActs[l].studentName == clickedTableStudent && teacher == passedActs[l].teacher){
                           
                            var listOfActDiv = document.createElement("div");
                            listOfActDiv.classList.add("list-of-act-box");
                        
                            var listOfActDivParaSpan = document.createElement("span");
                            listOfActDivParaSpan.textContent = passedActs[l].studentName;
                            var listOfActDivImg = document.createElement("div");
                            listOfActDivImg.classList.add("list-img");
                            var listOfActDivPara = document.createElement("div");
                            listOfActDivPara.classList.add("list-of-act-para")
                            var img = document.createElement('img');
                            img.src = passedActs[l].studentPassedFile ;
                            listOfActDivImg.appendChild(img);
                            var listOfActDivNameofTeacher = document.createElement("i");
                            var listOfActDivTotalScore = document.createElement("p");
                            listOfActDivTotalScore.textContent = "Score : "+ passedActs[l].studentScore + "/" + passedActs[l].actScore;
                            listOfActDivNameofTeacher.textContent = passedActs[l].studentSection;
                            var listOfActDivParaHref = document.createElement("a");
                            var listOfActDivParaDescrip = document.createElement("p");
                            listOfActDivParaDescrip.textContent = passedActs[l].studentActComment;
                            listOfActDivParaDescrip.classList.add("student-act-descrip")
                            listOfActDivParaHref.textContent = passedActs[l].actTitle;
                            var listOfActDivDatePassed = document.createElement("p");
                            listOfActDivDatePassed.textContent =  passedActs[l].datePassed;
                            listOfActDivPara.appendChild(listOfActDivNameofTeacher);
                            listOfActDivPara.appendChild(listOfActDivTotalScore);
                            listOfActDivPara.appendChild(listOfActDivParaSpan);
                            listOfActDivPara.appendChild(listOfActDivParaHref);
                            listOfActDivPara.appendChild(listOfActDivDatePassed);
                            listOfActDivPara.appendChild(listOfActDivParaDescrip);
                            
                            listOfActDiv.appendChild(listOfActDivImg);
                            listOfActDiv.appendChild(listOfActDivPara);
                            var listOfActDivContainer = document.getElementById("list-of-act-container");
                            listOfActDivContainer.appendChild(listOfActDiv);
                        }
                    }
                    checkIfDivsExist()
        })
        //Button Create Act (for teacher)
        var btnCreateAct = document.getElementById("create-act");
        if(ifTeacher == "false") {
            btnCreateAct.style.visibility = "hidden";
            listofActStudents.style.opacity = "1";
            listofActStudents.style.transform = "translateX(0%)";
        }else btnCreateAct.style.opacity = "1";
        btnCreateAct.addEventListener("click",()=>{
            fillContainer.style.opacity = "1";
            fillContainer.style.transform = "translateX(0%)";
            
        
        })
        
        var btnCreateActBack = document.getElementById("btn-back"); //Button back Btn for Fill Act
        btnCreateActBack.addEventListener("click", ()=>{
            fillContainer.style.opacity = "0";
            fillContainer.style.transform = "translateX(-100%)";
            deadlineDate.value = "";
            document.getElementById("descrip").value = "";
            fillActTitle.value = "";
            inputActFile.value = "";
            document.querySelector(".selected-sections-para").textContent = "Sections"
            document.querySelector("#act-section").textContent = "Section"
            document.querySelector("#score").value = ""
           
        })
        
        var deadlineDate = document.getElementById('deadlineDate');
        document.getElementById("title-para").style.display = "none";
        document.getElementById("due-date-para").style.display = "none";
        deadlineDate.addEventListener('input',()=>{
            if(deadlineDate.value){
                document.getElementById("due-date-para").style.display = "none";
            }
        })
        var totalScore = document.getElementById("score")
        let scorePara = document.getElementById("score-para")
        scorePara.style.display = "none";
        var actDescrip = document.getElementById("descrip");
        var fillActTitle = document.getElementById("fill-act-title");
        fillActTitle.addEventListener('input', ()=>{
            if(fillActTitle.value.length > 0) {
                document.getElementById("title-para").style.display = "none";
            }
        })
        totalScore.addEventListener("input",()=>{
            if(totalScore.value.length > 0) {
                scorePara.style.display = "none";
            }
        })
        var btnTeacherCreateAct = document.getElementById("btn-create-act");
        let studentTable = document.getElementById("student-table");
        let studentTableBody = document.getElementById("student-tbody");
        //Student Table Rows
        for(let z = 0; z<accounts.length;z++){
            if(((teacher == "cheraj" || teacher == "denzh") && accounts[z].section == "ICT-12-1P" || accounts[z].section == "ICT-12-2P" || accounts[z].section == "ICT-12-1A" ||accounts[z].section == "ICT-12-2A" )
            ||((teacher == "malacura" || teacher == "garcia") && accounts[z].section == "ICT-11-1P" || accounts[z].section == "ICT-11-2P" || accounts[z].section == "ICT-11-1A" ||accounts[z].section == "ICT-11-2A" ) ){
                var row = studentTableBody.insertRow(-1);
                row.insertCell(0).textContent = z;
                row.style.cursor = "pointer"
                var tblUsername =  row.insertCell(1);
                var img = document.createElement('img');
                img.src = "placeholder.webp";
                img.alt = "Profile"
                tblUsername.appendChild(img); 
                tblUsername.appendChild(document.createTextNode(accounts[z].username));
                row.insertCell(2).textContent = accounts[z].section;
                row.insertCell(3).textContent = accounts[z].email;
                row.insertCell(4).textContent = accounts[z].date;
                let hasPassedActivity = false;
                row.addEventListener("click",()=>{
                    document.querySelector("#profile-check-student-acts").style.display ="block"
                    document.querySelector("#email").textContent = accounts[z].email
                    document.querySelector("#birthdate").textContent = accounts[z].date
                    document.querySelector("#sections").textContent = accounts[z].section
                    profileContainer.style.opacity = "1";
                     profileContainer.style.transform = "translate(-50%, -50%)"
                    clickedTableStudent = accounts[z].username
                    studentTableContainer.style.opacity = "0";
                    studentTableContainer.style.transform = "translate(-50%,-200%)";
                    document.querySelector("#name").textContent = accounts[z].username  
                    document.querySelector("#position").textContent = "Student" 
                    if(accounts[z].section == "ICT-12-1P" || accounts[z].section == "ICT-12-2P" || accounts[z].section == "ICT-12-1A" || accounts[z].section == "ICT-12-2A"){
            document.getElementById("subject-spec1").textContent = "Animation 3 : Flash"
            document.getElementById("subject-spec2").textContent = "Animation 4 : Photoshop"
        }
        if (accounts[z].section == "ICT-11-1P" || accounts[z].section == "ICT-11-2P" || accounts[z].section == "ICT-11-1A" || accounts[z].section == "ICT-11-2A") {
    document.getElementById("subject-spec1").textContent = "Computer Programming 3 : HTML";
    document.getElementById("subject-spec2").textContent = "Computer Programming 4 : VB.net";
    }
                })
                for (let w = 0; w < passedActs.length; w++) {
                    if (passedActs[w].studentName == accounts[z].username) {
                          row.insertCell(5).textContent = passedActs[w].actTitle;
                         hasPassedActivity = true;
                         break;
                     }
                }


                if (!hasPassedActivity) {
                     row.insertCell(5).textContent = "None";
                }
            }   
                 
        }
        //Section Options
        var selectedActSection;
        var selectedSectionsList = []
        var listOfSelectedSections = document.querySelector(".selected-sections-para")
        document.getElementById("act-select-para").style.display = "none";
        actSection.addEventListener("change", ()=>{
            selectedActSection = actSection.value;

            document.getElementById("act-select-para").style.display = "none";


            var sectionAlreadySelected = selectedSectionsList.includes(selectedActSection);

            if (sectionAlreadySelected) {
                 document.getElementById("act-select-para").textContent = "Already Selected.";
                document.getElementById("act-select-para").style.display = "block"; 
            } else {
                 document.getElementById("act-select-para").style.display = "none"; 
                selectedSectionsList.push(selectedActSection); 
                listOfSelectedSections.textContent = listOfSelectedSections.textContent + "\n," + selectedActSection; 
            }
               })
               //Create Act
        btnTeacherCreateAct.addEventListener("click",()=>{
            let validTitle = false; 
            let validDueDate = false;
            let validScore = false;
            let validSection = false;
           
            if(fillActTitle.value == "" || fillActTitle.value.length == 0 || fillActTitle.value == undefined){
                document.getElementById("title-para").textContent = "Please Enter a Title."
                document.getElementById("title-para").style.display = "block";
                validTitle = false;
            }else {
                document.getElementById("title-para").style.display = "none";
                validTitle = true;
            }
             var dueDateValue = deadlineDate.value
            if(!dueDateValue){
                document.getElementById("due-date-para").style.display = "block";
                validDueDate = false;
            }else {
                document.getElementById("due-date-para").style.display = "none";
                validDueDate = true;
            }
            if(selectedActSection == "" || selectedActSection == undefined || selectedActSection == null){
                validSection = false;
                document.getElementById("act-select-para").style.display = "block";
            }else {
                validSection = true;
                document.getElementById("act-select-para").style.display = "none";
            }
            if(totalScore.value == ""){
                validScore = false;
                scorePara.style.display = "block";
            } else{
                validScore = true;
                scorePara.style.display = "none";
            }
            const reader = new FileReader();
            var imgAct;
            var newAct;
            var listOfActDiv = document.createElement("div");
            listOfActDiv.classList.add("list-of-act-box")
            var listOfActDivImg = document.createElement("div");
            listOfActDivImg.classList.add("list-img");
            var listOfActDivPara = document.createElement("div");
            listOfActDivPara.classList.add("list-of-act-para")
          
            var files = inputActFile.files;
            if (files.length > 0) {
                const file = files[0];
               
                reader.onload = function(event) {
                    var img = document.createElement('img');
                    img.src = event.target.result;
                    
                    img.alt = 'Uploaded Image';
                    img.width = '70';
                    img.height = '70';
                    img.style.cursor = 'pointer';
                    img.addEventListener('click', () => {
                        if (img.requestFullscreen) {
                            img.requestFullscreen();
                        } else if (img.mozRequestFullScreen) { 
                            img.mozRequestFullScreen();
                        } else if (img.webkitRequestFullscreen) { 
                            img.webkitRequestFullscreen();
                        } else if (img.msRequestFullscreen) {
                            img.msRequestFullscreen();
                        }
                    });
                    listOfActDivImg.appendChild(img);
                    imgAct = event.target.result;
                  
                    if(validTitle && validDueDate && validScore && validSection){
                        newAct = {      
                            imgAct : imgAct,
                            imgFiles : createActArray ,
                            actTitle : fillActTitle.value,
                            actDescrip : document.getElementById("descrip").value,
                            actScore : totalScore.value,
                            teacher : teacher,
                            actSection : selectedActSection,
                            dueDate : deadlineDate.value,
                            teachFullname : teachFullname , 
                            listOfSectionsActs : selectedSectionsList
                            }
                          
                        createdActs.push(newAct)
                        localStorage.setItem('createdActs', JSON.stringify(createdActs));

                        for(let h = 0; h < accounts.length; h++){
                            if(accounts[h].section == selectedActSection){
                                    let params = {
                                        name : accounts[h].username,
                                        email : accounts[h].email,
                                        teacher_name : document.getElementById("name").textContent,
                                        due_date : deadlineDate.value
                                    }
                                     emailjs.send("service_9od123a","template_lkoeif3", params);
                                   
                               }
                        }
                        createListDiv(createdActs)
                    deadlineDate.value = "";
                    document.getElementById("descrip").value = "";
                    fillActTitle.value = "";
                    inputActFile.value = "";
                    fillContainer.style.opacity = "0";
                    fillContainer.style.transform = "translateX(-100%)";
                    createActArray = []
                    fileDisplay.innerHTML = ""
                    checkIfDivsExist()
                    selectedSectionsList = []
                    document.querySelector(".selected-sections-para").textContent = "Sections"
                    document.querySelector("#score").value = ""
                  }
                };
                    
                  
                    reader.readAsDataURL(file);
                   
                }
            })
        function removeFromLocalStorage(act) {
             createdActs = JSON.parse(localStorage.getItem('createdActs'));
                createdActs.splice(act,1)
            localStorage.setItem('createdActs', JSON.stringify(createdActs));
        }
        function removeFromLocalStoragePassed(index) {
             passedActs = JSON.parse(localStorage.getItem('passedActs')) || [];
            passedActs.splice(index, 1);
            localStorage.setItem('passedActs', JSON.stringify(passedActs));
}
        var btnBack = document.getElementById("btn-back");
        btnBack.addEventListener("click", ()=>{
            fillContainer.style.opacity = "0";
            fillContainer.style.transform = "translateX(-100%)";
            fileDisplay.innerHTML = ""
            selectedSectionsList = []
        })
        const fileDisplay = document.getElementById("upload-file-pic");
        let createActArray = [];

        var inputActFile = document.getElementById("create-act-file");
        inputActFile.addEventListener('change', e => {
            const files = e.target.files;
            if (files.length === 0) return;

                for (let i = 0; i < files.length; i++) {
                     const file = files[i];
                    const fileItem = document.createElement('div');
                     fileItem.classList.add('fileItem');

                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            const imgContainer = document.createElement('div');
                             imgContainer.style.position = 'relative';
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            const imgSrc = e.target.result;
                            createActArray.push(imgSrc);

                            fileItem.appendChild(img);
                            const removeButton = createRemoveButton(fileItem, imgSrc);
                            imgContainer.appendChild(img);
                            imgContainer.appendChild(removeButton);
                            fileItem.appendChild(imgContainer);
                        };
                reader.readAsDataURL(file);
                    } else if (file.type === 'application/pdf') {
                    const reader = new FileReader();
                     reader.onload = function(e) {
                    const iframe = document.createElement('iframe');
                    iframe.src = e.target.result;
                    iframe.width = '100%';
                    iframe.height = '300px';
                    iframe.frameBorder = '0';
                    fileItem.appendChild(iframe);
                    const imgSrc = e.target.result;
                    createActArray.push(imgSrc);
                    const removeButton = createRemoveButton(fileItem, imgSrc);
                    fileItem.appendChild(removeButton);
                };
                reader.readAsDataURL(file);
            } else {
                fileItem.textContent = 'Unsupported file type';
            }

            fileDisplay.appendChild(fileItem);
         }
        });


    function createRemoveButton(fileItem, imgSrc) {
        const removeButton = document.createElement('button');
        removeButton.textContent = 'Remove';
        removeButton.addEventListener('click', function() {
       
            fileItem.remove();
     
             const index = createActArray.indexOf(imgSrc);
            if (index !== -1) {
                createActArray.splice(index, 1);
            }
         });
         return removeButton;
    }

        function searchSort(searchData) {
            tblRows.forEach(rows=>{
                rows.classList.remove('hide')
                let tblData = rows.textContent.toLowerCase();
                let searchDataa = searchData
                rows.classList.toggle('hide',tblData.indexOf(searchDataa.toLowerCase())< 0);
            })
        }
        const searchBar = document.querySelector(".header-search-bar input"),
            tblRows = document.querySelectorAll("tbody tr");
          
            searchBar.addEventListener("input",()=>{
            tblRows.forEach(rows=>{
                let tblData = rows.textContent.toLowerCase();
                let searchData = searchBar.value.toLowerCase();
                rows.classList.toggle('hide',tblData.indexOf(searchData)< 0);
            })
        })
      let btnSortICT111P = document.getElementById("ICT-11-1P")
      btnSortICT111P.addEventListener("click",()=>{
        searchSort("ICT-11-1P")
      })
      let btnSortICT121P = document.getElementById("ICT-12-1P")
      btnSortICT121P.addEventListener("click",()=>{
        searchSort("ICT-12-1P")
      })
      let btnSortICT122P = document.getElementById("ICT-12-2P")
      btnSortICT122P.addEventListener("click",()=>{
        searchSort("ICT-12-2P")
      })
      let btnSortICT112P = document.getElementById("ICT-11-2P")
      btnSortICT112P.addEventListener("click",()=>{
        searchSort("ICT-11-2P")
      })
      //
      let btnSortICT111A = document.getElementById("ICT-11-1A")
      btnSortICT111A.addEventListener("click",()=>{
        searchSort("ICT-11-1A")
      })
      let btnSortICT121A = document.getElementById("ICT-12-1A")
      btnSortICT121A.addEventListener("click",()=>{
        searchSort("ICT-12-1A")
      })
      let btnSortICT122A = document.getElementById("ICT-12-2A")
      btnSortICT122A.addEventListener("click",()=>{
        searchSort("ICT-12-2A")
      })
      let btnSortICT112A = document.getElementById("ICT-11-2A")
      btnSortICT112A.addEventListener("click",()=>{
        searchSort("ICT-11-2A")
      })

        tblHeadings =document.querySelectorAll("th")
        tblHeadings.forEach((head,i)=>{
           
            let sorted = true
            head.onclick = ()=>{
                tblHeadings.forEach(head => head.classList.remove('active'))
               
                head.classList.add('active')
                document.querySelectorAll('td').forEach(td => td.classList.remove('active'))
                tblRows.forEach(row =>{
                   
                    row.querySelectorAll('td')[i].classList.add('active')
                })
                head.classList.toggle('asc', sorted)
                sorted = head.classList.contains('asc') ? false : true;
            }
        })
        var now = new Date();
        var formattedDate = now.getFullYear() + '-' + ('0' + (now.getMonth() + 1)).slice(-2) + '-' + ('0' + now.getDate()).slice(-2);
        var formattedTime = ('0' + now.getHours()).slice(-2) + ':' + ('0' + now.getMinutes()).slice(-2);
        document.getElementById('deadlineDate').setAttribute('min', formattedDate + 'T' + formattedTime);
    
        function checkIfDivsExist() {
            var listOfActDivContainer = document.getElementById("list-of-act");
            if (listOfActDivContainer) {
                var listOfActDivs = listOfActDivContainer.querySelectorAll(".list-of-act-box");
                if (listOfActDivs.length === 0) {
                    document.getElementById('nothing-list-box-para').style.display = "block"
                    return false;
                } else {
                    document.getElementById('nothing-list-box-para').style.display = "none"
                    return true;
                }
            }
            return false;
        }
        
        checkIfDivsExist();
        document.querySelector('.btn-submit-changes').style.display = "none"
        document.querySelector('.settings-change-password').style.display = "none"
        document.querySelector('.settings-form-child h2').textContent = ""
        document.querySelector('.settings-change-email').style.display = "none"
        document.querySelector('.settings-change-birthdate').style.display = "none"
        document.querySelector(".settings-send-code").style.display = "none"
        document.getElementById('input-current-pass').value = loggedAccount.password 
        var ifCorrectPassword = false,
            ifCorrectEmail = false,
            ifCorrectUsername = false 
        document.getElementById("settings-icon-password").addEventListener("click",()=>{
            document.querySelector('.settings-form-child h2').textContent = "Change Password"
            document.querySelector('.settings-change-password').style.display = "block"
            document.querySelector('.settings-change-email').style.display = "none"
            document.querySelector('.settings-change-birthdate').style.display = "none"
            document.querySelector('.btn-submit-changes').style.display = "block"
            document.querySelector(".settings-send-code").style.display = "none"
            paraSuccessChange.style.display = "none"
            ifCorrectPassword = true
            ifCorrectEmail = false
            ifCorrectUsername = false
        })
        document.getElementById("settings-icon-email").addEventListener("click",()=>{
            document.querySelector('.settings-form-child h2').textContent = "Change Email"
            document.querySelector('.settings-change-email').style.display = "block"
            document.querySelector('.settings-change-password').style.display = "none"
            document.querySelector('.settings-change-birthdate').style.display = "none"
            document.querySelector('.btn-submit-changes').style.display = "none"
            document.querySelector(".settings-send-code").style.display = "block"
            paraSuccessChange.style.display = "none"
            ifCorrectPassword = false
            ifCorrectEmail = true
            ifCorrectUsername = false
        })
        document.getElementById("settings-icon-birthdate").addEventListener("click",()=>{
            document.querySelector('.settings-form-child h2').textContent = "Change Username"
            document.querySelector('.settings-change-password').style.display = "none"
            document.querySelector('.settings-change-email').style.display = "none"
            document.querySelector('.settings-change-birthdate').style.display = "block"
            document.querySelector('.btn-submit-changes').style.display = "block"
            document.querySelector(".settings-send-code").style.display = "none"
            paraSuccessChange.style.display = "none"
            ifCorrectPassword = false
            ifCorrectEmail = false
            ifCorrectUsername = true
        })
        document.querySelector('.btn-show-current-pass').addEventListener("click",()=>{
            if (document.getElementById("input-current-pass").type === "password"){
                document.getElementById("input-current-pass").type = "text"
                document.querySelector('.btn-show-current-pass').textContent = "Hide Password"
            }else {
                document.getElementById("input-current-pass").type = "password"
                document.querySelector('.btn-show-current-pass').textContent = "Show Password"
            }
        })
        document.querySelector('.btn-show-new-pass').addEventListener("click",()=>{
        
            if (document.getElementById("input-new-pass").type === "password"){
                document.getElementById("input-new-pass").type = "text"
                document.querySelector('.btn-show-new-pass').textContent = "Hide Password"
            }else {
                document.getElementById("input-new-pass").type = "password"
                document.querySelector('.btn-show-new-pass').textContent = "Show Password"
            }
        })
        document.querySelector('.btn-show-confirm-pass').addEventListener("click",()=>{
            if (document.getElementById("input-confirm-pass").type === "password"){
                document.getElementById("input-confirm-pass").type = "text"
                document.querySelector('.btn-show-confirm-pass').textContent = "Hide Password"
            }else {
                document.getElementById("input-confirm-pass").type = "password"
                document.querySelector('.btn-show-confirm-pass').textContent = "Show Password"
            }
        })
        document.addEventListener("input",()=>{
            document.querySelector(".invalid-pass-para").style.display = "none"
        })
        document.querySelector(".invalid-pass-para").style.display = "none"
        document.querySelector(".invalid-email-para").style.display = "none"
        document.querySelector(".invalid-username-para").style.display = "none"
        document.querySelector('.btn-submit-changes').addEventListener("click",()=>{
            var inputNewPassword = document.getElementById("input-new-pass")
            var inputConfirmPassword = document.getElementById("input-confirm-pass")
            var ifCorrectNewPassword = false
            var ifCorrectNewEmail = false
            var ifCorrectNewUsername = false
            if(ifCorrectPassword){
                if(inputNewPassword.value.length == 0 ||  inputConfirmPassword.value.length == 0){
                    document.querySelector(".invalid-pass-para").textContent = "Please Enter a Password."
                    document.querySelector(".invalid-pass-para").style.display = "block"
                     ifCorrectNewPassword = false
                }else{
                    if(inputNewPassword.value.length < 8 ){
                        document.querySelector(".invalid-pass-para").textContent = "Minimum of 8 Characters."
                        document.querySelector(".invalid-pass-para").style.display = "block"
                        ifCorrectNewPassword = false
                    }else{
                        if(inputNewPassword.value != inputConfirmPassword.value){
                            document.querySelector(".invalid-pass-para").textContent = "Password doesn't Match."
                            document.querySelector(".invalid-pass-para").style.display = "block"
                             ifCorrectNewPassword = false
                        }else {
                            document.querySelector(".invalid-pass-para").style.display = "none"
                           if(hasNoCapitalLetters(inputNewPassword.value)){
                              document.querySelector(".invalid-pass-para").textContent = "Password must contain at least 1 Capital Letter."
                              document.querySelector(".invalid-pass-para").style.display = "block"
                              ifCorrectNewPassword = false
                           }else if (hasNoNumbers(inputNewPassword.value)){
                              document.querySelector(".invalid-pass-para").textContent = "Password must contain at least 1 Number."
                              document.querySelector(".invalid-pass-para").style.display = "block"
                              ifCorrectNewPassword = false
                           }else if (hasNoLetters(inputNewPassword.value)){
                              document.querySelector(".invalid-pass-para").textContent = "Password must contain at least 1 Letter."
                              document.querySelector(".invalid-pass-para").style.display = "block"
                              ifCorrectNewPassword = false
                           }else if (!hasNoSpecialCharacters(inputNewPassword.value)){
                              document.querySelector(".invalid-pass-para").textContent = "Password must contain at least 1 Special Character."
                              document.querySelector(".invalid-pass-para").style.display = "block"
                              ifCorrectNewPassword = false
                           }else {
                              ifCorrectNewPassword = true
                              document.querySelector(".invalid-pass-para").style.display = "none"
                           }
                        }
                    }
                  
                }
                
                
            }
            if(ifCorrectEmail){
                var currentEmail =  document.getElementById("input-current-email")
                if(currentEmail.value != loggedAccount.email){
                    document.querySelector(".invalid-email-para").textContent = "Current Email is not Correct."
                    document.querySelector(".invalid-email-para").style.display = "block"
                    ifCorrectNewEmail = false
                }else {
                   
                    if(document.getElementById("input-new-email").value != document.getElementById("input-confirm-email").value){
                        document.querySelector(".invalid-email-para").textContent = "New Email and Confirm Email doesn't Match."
                        document.querySelector(".invalid-email-para").style.display = "block"
                        ifCorrectNewEmail = false
                    }else {
                        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if(!emailRegex.test(document.getElementById("input-new-email").value) || !document.getElementById("input-new-email").value.endsWith("gmail.com")){
                            document.querySelector(".invalid-email-para").textContent = "Email must end at @gmail.com."
                            document.querySelector(".invalid-email-para").style.display = "block"
                            ifCorrectNewEmail = false
                        }else {
                            for(let w = 0; w < accounts.length; w++){
                                if(accounts[w].email == document.getElementById("input-new-email").value){
                                    document.querySelector(".invalid-email-para").textContent = "Email already used."
                                    document.querySelector(".invalid-email-para").style.display = "block"
                                    ifCorrectNewEmail = false
                                    break
                                }else{
                                    document.querySelector('.btn-submit-changes').style.display = "block"
                                    document.querySelector(".invalid-email-para").style.display = "none"
                                    
                                    if(document.getElementById("input-send-code").value != emailChangeCode){
                                        document.querySelector(".invalid-email-para").textContent = "Incorrect Code."
                                        document.querySelector(".invalid-email-para").style.display = "block"
                                        ifCorrectNewEmail = false
                                    }else{
                                        ifCorrectNewEmail = true
                                        document.querySelector(".invalid-email-para").style.display = "none"
                                    }
                                   
                                }
                            }
                           
                        }
                    }
                }
            }
           if(ifCorrectUsername){
            if(document.querySelector("#input-current-birthdate").value.length > 1){
                if(document.querySelector("#input-current-birthdate").value != loggedAccount.username){
                    document.querySelector(".invalid-username-para").textContent = "Current Username doesn't Match."
                    document.querySelector(".invalid-username-para").style.display = "block"
                    ifCorrectNewUsername = false
                }else {
                    for(let q = 0; q< accounts.length;q++){
                        if(accounts[q].username == document.querySelector("#input-new-birthdate").value ){
                            document.querySelector(".invalid-username-para").textContent = "Username already used."
                            document.querySelector(".invalid-username-para").style.display = "block"
                            ifCorrectNewUsername = false
                            break
                        }else{
                            document.querySelector(".invalid-username-para").style.display = "none"
                            ifCorrectNewUsername = true
                        }
                    }
                    
                }
            }else {
                document.querySelector(".invalid-username-para").textContent = "Please Enter a Valid Username."
                    document.querySelector(".invalid-username-para").style.display = "block"
                    ifCorrectNewUsername = false
            }
                
           }
           if(ifCorrectNewPassword){
               for (let y = 0; y < accounts.length ; y++){
                if(loggedAccount.username == accounts[y].username){
                    accounts[y].password = inputNewPassword.value
                    localStorage.setItem("accounts", JSON.stringify(accounts));
                    paraSuccessChange.style.display = "block"
                    document.querySelector('.btn-submit-changes').style.display = "none"
                }
               }
           }
           if(ifCorrectNewEmail){
            
            for (let p = 0; p < accounts.length ; p++){
                if(loggedAccount.username == accounts[p].username){
                    accounts[p].email = document.getElementById("input-new-email").value
                    localStorage.setItem("accounts", JSON.stringify(accounts));
                    paraSuccessChange.style.display = "block"
                    document.querySelector('.btn-submit-changes').style.display = "none"
                }
               }
           }
           if(ifCorrectNewUsername){
            for (let e = 0; e < accounts.length ; e++){
                if(loggedAccount.username == accounts[e].username){
                    accounts[e].username = document.querySelector("#input-new-birthdate").value
                    localStorage.setItem("accounts", JSON.stringify(accounts));
                    paraSuccessChange.style.display = "block"
                    document.querySelector('.btn-submit-changes').style.display = "none"
                   }
                }
           }
         
        })
        function generateRandomNumber() {
            var result = '';
            var characters = '1234567890';
            var charactersLength = characters.length;
            for (var i = 0; i < 6; i++) {
                result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return result;
        }
        let emailChangeCode = generateRandomNumber()
     
        document.querySelector(".settings-send-code").addEventListener("click",()=>{
            var currentEmail =  document.getElementById("input-current-email")
                if(currentEmail.value != loggedAccount.email){
                    document.querySelector(".invalid-email-para").textContent = "Current Email is not Correct."
                    document.querySelector(".invalid-email-para").style.display = "block"
                    ifCorrectNewEmail = false
                }else {
                   
                    if(document.getElementById("input-new-email").value != document.getElementById("input-confirm-email").value){
                        document.querySelector(".invalid-email-para").textContent = "New Email and Confirm Email doesn't Match."
                        document.querySelector(".invalid-email-para").style.display = "block"
                        ifCorrectNewEmail = false
                    }else {
                        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if(!emailRegex.test(document.getElementById("input-new-email").value) || !document.getElementById("input-new-email").value.endsWith("gmail.com")){
                            document.querySelector(".invalid-email-para").textContent = "Email must end at @gmail.com."
                            document.querySelector(".invalid-email-para").style.display = "block"
                            ifCorrectNewEmail = false
                        }else {
                            for(let w = 0; w < accounts.length; w++){
                                if(accounts[w].email == document.getElementById("input-new-email").value){
                                    document.querySelector(".invalid-email-para").textContent = "Email already used."
                                    document.querySelector(".invalid-email-para").style.display = "block"
                                    ifCorrectNewEmail = false
                                    break
                                }else{
                                    document.querySelector('.btn-submit-changes').style.display = "block"
                                    document.querySelector(".invalid-email-para").textContent = "A Verification Code has been sent to the New Email."
                                    document.querySelector(".invalid-email-para").style.display = "block"
                                    document.querySelector(".settings-send-code").style.display = "none"
                                    document.getElementById("input-new-email").readOnly = true
                                    document.getElementById("input-confirm-email").readOnly = true
                                   let parameter = {
                                        username : loggedAccount.username,
                                        code : emailChangeCode,
                                        email :  document.getElementById("input-new-email").value
                                    }
                                    emailjs.send("service_9od123a","template_awxq3ao", parameter)
                                   
                                }
                            }
                           
                        }
                    }
                }
        })
        document.querySelector("#input-new-birthdate").addEventListener("keypress", event=>{
            if (event.keyCode === 32) {
                 event.preventDefault();
             }
        })
        function hasNoCapitalLetters(input) {
            return /^[^A-Z]*$/.test(input);
        }
        function hasNoNumbers(input) {
            return /^[^0-9]*$/.test(input);
        }
        function hasNoLetters(input) {
            return /^[^a-zA-Z]*$/.test(input);
        }
        function hasNoSpecialCharacters(input) {
            return /[^\w\s]/.test(input);
        }
        var paraSuccessChange = document.querySelector(".confirm-changes-para")
        paraSuccessChange.style.display = "none"
        //     createdActs = []
        //  localStorage.setItem('createdActs', JSON.stringify(createdActs));
        //     passedActs = []
        //   localStorage.setItem('passedActs', JSON.stringify(passedActs));
        document.getElementById("custom-file-upload-image").style.display ="none"
        function checkPp(teacher){
            if(teacher == "garcia"){
                let vbnet = "Computer Programming : VB.net"
                let java = "Computer Programming : Java"
                let maamNicole = "Nicole Denielle Garcia"
                teachFullname = maamNicole

                document.getElementById("subject-spec1").textContent = vbnet
                document.getElementById("subject-spec2").textContent = java
                document.getElementById("name").textContent = maamNicole
                document.getElementById("subj-title").textContent = java
                document.getElementById("subj-title-2").textContent = vbnet
                document.getElementById("subj-desc").textContent = maamNicole
                document.getElementById("subj-desc-2").textContent = maamNicole
           
            }else if(teacher == "cheraj"){
                let photoshop2 =  "Animation 2 : Photoshop"
                let photoshop4 = "Animation 4 : Photoshop"
                let mamChe =  "Che Veronica Raj"
                teachFullname = mamChe
                document.getElementById("subject-spec1").textContent = photoshop2
                document.getElementById("subject-spec2").textContent = photoshop4
                document.getElementById("name").textContent = mamChe
                document.getElementById("subj-title").textContent = photoshop2
                document.getElementById("subj-title-2").textContent = photoshop4
                document.getElementById("subj-desc").textContent = mamChe
                document.getElementById("subj-desc-2").textContent = mamChe
           
            }else if(teacher == "denzh"){
                let flash1 = "Animation 1 : Flash"
                let flash3 = "Animation 3 : Flash"
                let sirDenhz = "Denzh Bulaong"
                teachFullname = sirDenhz
                document.getElementById("subject-spec1").textContent = flash1
                document.getElementById("subject-spec2").textContent = flash3
                document.getElementById("name").textContent = sirDenhz
                document.getElementById("subj-title").textContent = flash1
                document.getElementById("subj-title-2").textContent = flash3
                document.getElementById("subj-desc").textContent = sirDenhz
                document.getElementById("subj-desc-2").textContent = sirDenhz
               
            }else if(teacher == "malacura"){
                let compC = "Computer Programming 1 : C"
                let compHtml = "Computer Programming 3 : HTML"
                let sirMalacura = "Anthony Malacura"
                teachFullname = sirMalacura
                document.getElementById("subject-spec1").textContent = compC
                document.getElementById("subject-spec2").textContent = compHtml
                document.getElementById("name").textContent = sirMalacura
                document.getElementById("subj-title").textContent = compC
                document.getElementById("subj-title-2").textContent = compHtml
                document.getElementById("subj-desc").textContent = sirMalacura
                document.getElementById("subj-desc-2").textContent = sirMalacura
              
             }     
        }
        function displayModal(){
            document.querySelector(".modal").style.display = "block"
            document.querySelector(".modal p").textContent = "Are you sure you want to Log out?"
        }
        document.querySelector("#navbar-logout").addEventListener("click",()=>{
          displayModal()
        })
        document.querySelector("#footer-logout").addEventListener("click",()=>{
            displayModal()
        })
        document.querySelector("#noBtn").addEventListener("click",()=>{
            document.querySelector(".modal").style.display = "none"
        })
        document.querySelector("#yesBtn").addEventListener("click",()=>{
            document.querySelector(".modal").style.display = "none"
            window.location.href = "login.html"
        })
       
    </script>
</body>
</html>
